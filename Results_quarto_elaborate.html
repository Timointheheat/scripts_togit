<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CORE results</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Results_quarto_elaborate_files/libs/clipboard/clipboard.min.js"></script>
<script src="Results_quarto_elaborate_files/libs/quarto-html/quarto.js"></script>
<script src="Results_quarto_elaborate_files/libs/quarto-html/popper.min.js"></script>
<script src="Results_quarto_elaborate_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Results_quarto_elaborate_files/libs/quarto-html/anchor.min.js"></script>
<link href="Results_quarto_elaborate_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Results_quarto_elaborate_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Results_quarto_elaborate_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Results_quarto_elaborate_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Results_quarto_elaborate_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">CORE results</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="additional-info-not-for-paper" class="level2">
<h2 class="anchored" data-anchor-id="additional-info-not-for-paper">Additional info (not for paper)</h2>
<p>Within this section I highlight some additional information for us, as team, to discuss.</p>
<section id="first-we-start-with-all-the-1-minute-averaged-data-of-trec-tcore-tsk-hr." class="level3">
<h3 class="anchored" data-anchor-id="first-we-start-with-all-the-1-minute-averaged-data-of-trec-tcore-tsk-hr.">First, we start with all the 1-minute averaged data of Trec, Tcore, Tsk, HR.</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>p25 is the one with the very high Trec. Most of the low Trec after min 50 are p7, who was incapable of cycling enough.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Both torso and hand show very low values sometimes. Not sure why. For now I leave it in.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>After removal of the very low HR values, there only are some low values left towards the end of the protocol. I suggest to leave it in because, at that time people might be sitting (so not cycling) for a long time already.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Some people start with cold skins, but this is very possible given the relatively cold lab outside of the climatic chamber. The drop somewhere before 50 represents the brief period that participants were out of the climatic chamber. The drops at 75 and 100 might be that someone stepped outside for a short period of time. I have left this data in for now.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Same goes for the skin temperatures measured by the CORE sensor, sometimes start low.</p>
</section>
<section id="second-which-to-exclude" class="level3">
<h3 class="anchored" data-anchor-id="second-which-to-exclude">Second, which to exclude?</h3>
<p>As 2 participants dropped-out after 2 and 5 sessions due to injury (knee, p3) and sickness (maagzuur, p4), 16 participants finished the entire HA-protocol. One participant kept changing power output during the exercise phase and is therefore excluded (p18). Due to measurement error using the rectal probe (very high values, see figure Trec) , HA-1 for pp25 had to be excluded from Tc related research questions involving HA1 (Main research questions about HA-adaptations). Due to measurement error in CORE during HA1, p16 and p20 have to be excluded from Tc related research questions involving HA1 (Main research questions about HA-adaptations).</p>
<p>This leaves 12 participants who might be included in the mixed-models ANOVA.</p>
<p>Additionally, after calculation of Tc averages for the resting and constant cycling phase, 4 participants had one (N = 3) or two (N = 1) missing values for one of the measurement devices due to measurement error. I propose to replace the missing value with the average of the HA-session before and after the missing session. This causes the sample size for this research question to be 12 (instead of 8). <strong><em>Do we agree on this method?</em></strong></p>
<p>One participant (pp7) did not reach Tre &gt; 38.5 any day. I suggest excluding here from the time &gt; 38.5 RQ. Interestingly she did show large changes in resting (-0.6 a -0.7) and exercising (-0.5) Tre.</p>
<p>For the other research questions, where we have only Blant-Altman analysis and ICC, I suggest to use all the available data. That includes the drop-outs. Because why not? More data = more better ;)</p>
</section>
<section id="third-normality-of-data." class="level3">
<h3 class="anchored" data-anchor-id="third-normality-of-data.">Third, Normality of data.</h3>
<p>We have very large sample sizes (see graphs) for the RQ regarding wrist vs torso and overall validity, therefore we can assume normality in those cases. However, for the main research question and the time &gt; 38.5 degr C question our sample is small (N = 9 or 14, see above) and moderate (N &gt; 50) so we have to check.</p>
<p>Below are the results of my visual inspection of data normality. We have rest and ex(ercising) data which is Y(es) or N(ot) normaly distributed. There are some sessions which are not normaly distributed. However, in general, data is normally distributed. Therefore, I conclude we can proceed with parametric tests. <strong><em>do you agree?</em></strong></p>
<p><strong><em>dTre: rest &amp; ex YES (excl pp25) - ALL DATA</em></strong> -</p>
<ul>
<li><p>rest Y: HA2,4-9 -</p></li>
<li><p>rest N: HA3 -</p></li>
<li><p>ex Y: HA2-9</p></li>
</ul>
<p><strong><em>dTCore_torso: rest &amp; ex YES (excl pp25) - ALL DATA</em></strong> -</p>
<ul>
<li><p>rest Y: HA2-9 -</p></li>
<li><p>ex Y: HA2-4,7 -</p></li>
<li><p>ex N: HA5, 6, 8, 9</p></li>
</ul>
<p><strong><em>dTCore_hand: rest &amp; ex NO (excl pp25)</em></strong> -</p>
<ul>
<li><p>rest Y: HA2-7</p></li>
<li><p>rest N: HA8,9</p></li>
<li><p>ex N: HA2, 5-8</p></li>
<li><p>ex N: HA3, 4, 9</p></li>
</ul>
</section>
</section>
<section id="ha-adaptations" class="level2">
<h2 class="anchored" data-anchor-id="ha-adaptations">HA-adaptations</h2>
<p>The assumption of sphericity was violated for dTc during rest (W = 0.174, P = ANOVA_results_dTc_rest$“Mauchly’s Test for Sphericity”[2,3]`), therefore Greenhouse-Geisser corrected values are reported for dTc during resting. A significant interaction effect of HA and Device on dTc during rest was found, F(6.03, 138.75) = 5.31 , P = 5.63^{-5} , ges = 0.1. No significant interaction was found on dTc during exercise. A significant main effect of HA on dTc during rest and exercise was found (P &lt; 0.05).</p>
<p>Specifically, dTc in rest measured using the rectal probe was significantly reduced for HA8 (t(204) = -5 , P = 0) and HA9 ((t(204) = -5.97 , P = 0)) when compared to HA1, while the dTc in rest estimated using the CRS did not significantly change throughout the HA-protocol. Additionally, dTc during exercise measured using the rectal probe was significantly reduced for HA7 (t(204) = -2.87 , P = 0.0363) , HA8 (t(204) = -3.27 , P = 0.0102) and HA9 ((t(204) = -3.28 , P = 0.0097)) when compared to HA1, while the dTc during exercise estimated using the CRS did not significantly change throughout the HA-protocol.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 10%">
<col style="width: 44%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: left;">Interaction</th>
<th style="text-align: left;">Main effect HA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">dTc_rest</td>
<td style="text-align: left;">F(8, 184) = 5.313, P = 5.24e-06 ES = 0.105</td>
<td style="text-align: left;">F(8, 184) = 7.312, P = 2.01e-08 ES = 0.139</td>
</tr>
<tr class="even">
<td style="text-align: left;">dTc_ex</td>
<td style="text-align: left;">F(8, 184) = 1.386, P = 0.205 ES = 0.033</td>
<td style="text-align: left;">F(8, 184) = 3.854, P = 0.000322 ES = 0.086</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dTsk_rest</td>
<td style="text-align: left;">F(8, 184) = 1.025, P = 0.418 ES = 0.018</td>
<td style="text-align: left;">F(8, 184) = 2.463, P = 0.015 ES = 0.042</td>
</tr>
<tr class="even">
<td style="text-align: left;">dTsk_ex</td>
<td style="text-align: left;">F(8, 184) = 0.707, P = 0.685 ES = 0.014</td>
<td style="text-align: left;">F(8, 184) = 6.868, P = 6.82e-08 ES = 0.124</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-10-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-10-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-10-6.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The ICC, mean bias and lower- and upper limit of dTc and dTsk measured by the golden standard (rectal probe and IB) and CRS are presented in the table below. The Bland-Altman plots are displayed in figure X.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 18%">
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: right;">Mean Diffs</th>
<th style="text-align: right;">Lower Limit</th>
<th style="text-align: right;">Upper Limit</th>
<th style="text-align: right;">ICC Value</th>
<th style="text-align: left;">ICC Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">dTc_rest_mean</td>
<td style="text-align: right;">-0.11</td>
<td style="text-align: right;">-0.64</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: left;">poor</td>
</tr>
<tr class="even">
<td style="text-align: left;">dTc_ex_mean</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">-0.52</td>
<td style="text-align: right;">0.47</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: left;">poor</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dTsk_rest_mean</td>
<td style="text-align: right;">-0.19</td>
<td style="text-align: right;">-1.99</td>
<td style="text-align: right;">1.62</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: left;">poor</td>
</tr>
<tr class="even">
<td style="text-align: left;">dTsk_ex_mean</td>
<td style="text-align: right;">-0.14</td>
<td style="text-align: right;">-1.04</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">0.33</td>
<td style="text-align: left;">poor</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-12-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-12-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-12-4.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="time-spend-above-38.5" class="level2">
<h2 class="anchored" data-anchor-id="time-spend-above-38.5">Time spend above 38.5</h2>
<p>One participants did not spend any time with a Tre &gt; 38.5 and was therefore excluded from the analysis. The average time spend with a Tre at or above 38.5 was 41 +/- 21 min.</p>
<p>The ICC of the time spend above 38.5 is 0.33 (95% CI: 0.15-0.48), F(136, 68.3) = 2.18, p = 2.330088^{-4}, indicating poor reliability. The Bland-Altman plot is shown below. The mean bias was 10 min with limits of agreement from -34 to 54 min. The negative value of the mean bias indicates that the CRS typically overestimated the time spend above 38.5 compared to the rectal probe.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
</section>
<section id="criterion-validity-core-vs-rec" class="level2">
<h2 class="anchored" data-anchor-id="criterion-validity-core-vs-rec">Criterion validity CORE vs REC</h2>
<p>The average Tc profile for the CRS and rectal probe are presented in the figure below.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 27 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The ICC of the CRS to estimate Tc compared to the rectal probe is 0.81 (95% CI: 0.8-0.82), F(1.8327^{4}, 1586.1) = 9.73, p = 0, indicating good reliability. The Bland-Altman plot is shown below. The mean bias was -0.07 C with limits of agreement from -0.91 to 0.77 C. The negative value of the mean bias indicates that the CRS typically overestimated Tc compared to the rectal probe.</p>
<p>The ICC of the CRS to estimate Tsk compared to IB is 0.73 (95% CI: 0.5-0.83), F(1.8247^{4}, 17.3) = 8.35, p = 3.2702^{-6}, indicating moderate reliability. The Bland-Altman plot is shown below. The mean bias was -0.44 C with limits of agreement from -1.86 to 0.97 C. The negative value of the mean bias indicates that the CRS typically overestimated Tsk compared to IB.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-15-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
</section>
<section id="criterion-validity-torso-vs-wrist" class="level2">
<h2 class="anchored" data-anchor-id="criterion-validity-torso-vs-wrist">Criterion validity torso vs wrist</h2>
<p>The ICC of the CRS on the wrist to estimate Tc compared to the CRS on the torso is 0.89 (95% CI: 0.89-0.89), F(1.8564^{4}, 1.38806^{4}) = 17.34, p = 0, indicating good reliability. The Bland-Altman plot is shown below. The mean bias was -0.02 C with limits of agreement from -0.58 to 0.54 C. The negative value of the mean bias indicates that the CRS on the wrist typically overestimated Tc compared to the CRS on the torso.</p>
<p>The ICC of the CRS to estimate Tsk compared to IB is 0.79 (95% CI: 0.78-0.8), F(1.8821^{4}, 1878.1) = 8.77, p = 0, indicating good reliability. The Bland-Altman plot is shown below. The mean bias was 0.14 C with limits of agreement from -1.56 to 1.84 C. The positive value of the mean bias indicates that the CRS on the wrist typically underestimated Tsk compared to CRS on the torso.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Results_quarto_elaborate_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>